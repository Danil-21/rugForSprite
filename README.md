## RAG-–¥–≤–∏–∂–æ–∫ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –±–∞–Ω–∫–∞ (MVP)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç AI-–∞–≥–µ–Ω—Ç–∞ –ø–µ—Ä–≤–æ–π –ª–∏–Ω–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è **–∫–ª–∏–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –°–±–µ—Ä–±–∞–Ω–∫–∞**, –∫–æ—Ç–æ—Ä—ã–π:

- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–º–∞—Ç–∏–∫—É –∏ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é LLM
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ç–∏–ø–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (RAG-–¥–≤–∏–∂–æ–∫)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏–Ω–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (L1/L2/L3) –ø—Ä–∏ –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –§–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

**–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã**: –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫, –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å—ã –°–±–µ—Ä–∞.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
–ö–ª–∏–µ–Ω—Ç (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–µ—Ä–≤–∏—Å–æ–≤)
        ‚Üì
Telegram-–±–æ—Ç / –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        ‚Üì
    FastAPI RAG-—Å–µ—Ä–≤–∏—Å
        ‚îú‚îÄ‚îÄ –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (FAISS)
        ‚îú‚îÄ‚îÄ –õ–æ–∫–∞–ª—å–Ω–∞—è LLM —á–µ—Ä–µ–∑ Ollama
        ‚îú‚îÄ‚îÄ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (‚â•70% –ø–æ—Ä–æ–≥)
        ‚îî‚îÄ‚îÄ –ú–µ—Ö–∞–Ω–∏–∑–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ L1/L2/L3
```

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python 3.10+** (–ø—Ä–æ–≤–µ—Ä—å –∫–æ–º–∞–Ω–¥–æ–π `python --version` –∏–ª–∏ `py --version`)
- **Ollama** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ LLM-–º–æ–¥–µ–ª–µ–π

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```powershell
# 1. –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv
.venv\Scripts\activate

# 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Ollama (—Å–∫–∞—á–∞—Ç—å —Å https://ollama.com)
# 4. –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥–µ–ª—å
ollama pull llama3.2
```

---

## 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

### –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
1. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
```powershell
mkdir data
mkdir data\raw
mkdir data\raw\web  # –¥–ª—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
```

2. –°–æ–±–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º –±–∞–Ω–∫–∞:
   - FAQ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫–∞
   - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –º–æ–±–∏–ª—å–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
   - –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

3. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ `data/raw` –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö:
   - `.txt` - —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
   - `.pdf` - PDF-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
   - `.docx` - Word-–¥–æ–∫—É–º–µ–Ω—Ç—ã
   - `.html` - HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≤ –ø–∞–ø–∫–µ `web`)

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞
```powershell
python build_index.py
```
–°–∫—Ä–∏–ø—Ç:
- –ó–∞–≥—Ä—É–∑–∏—Ç –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ `data/raw`
- –†–∞–∑–æ–±—å–µ—Ç –Ω–∞ —Å–º—ã—Å–ª–æ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
- –°–æ–∑–¥–∞—Å—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ `data/chroma_db`

---

## 3. –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–∞

### –°–∏—Å—Ç–µ–º–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
–ê–≥–µ–Ω—Ç –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ –æ—Ç 0% –¥–æ 100%:

```
              –í–æ–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞
                    ‚Üì
          [–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞]
                    ‚Üì
          [–ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π]
                    ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ      –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å ‚â• 70%?       ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì                    ‚Üì
           –î–ê                   –ù–ï–¢
            ‚Üì                    ‚Üì
    [–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞]  [–ù–ï–ú–ï–î–õ–ï–ù–ù–ê–Ø –≠–°–ö–ê–õ–ê–¶–ò–Ø]
            ‚Üì                    ‚Üì
    [–û—Ü–µ–Ω–∫–∞: –Ω—É–∂–µ–Ω –ª–∏           [–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
      —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ—Å–ª–µ           ‚Ä¢ –£—Ä–æ–≤–µ–Ω—å —ç—Å–∫–∞–ª–∞—Ü–∏–∏
        –æ—Ç–≤–µ—Ç–∞?]                ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
            ‚Üì                    ‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  –¢—Ä–µ–±—É–µ—Ç—Å—è      ‚îÇ
    ‚îÇ  —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
    [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ L1/L2/L3]
```

### –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- **L1** (–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—ã) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–ø—Ä–∞–≤–∫–∞
- **L2** (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã) - –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏
- **L3** (–≠–∫—Å–ø–µ—Ä—Ç—ã/–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã, –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

---

## 4. –ó–∞–ø—É—Å–∫ RAG-—Å–µ—Ä–≤–∏—Å–∞

```powershell
uvicorn app:app --reload
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- API: `http://127.0.0.1:8000`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://127.0.0.1:8000/docs`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è: `http://127.0.0.1:8000/health`

---

## 5. –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä 1: –í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (–∞–≥–µ–Ω—Ç —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è)
```
–ö–ª–∏–µ–Ω—Ç: "–ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –æ—Ç –°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω?"

–û—Ç–≤–µ—Ç –∞–≥–µ–Ω—Ç–∞:
–î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è:
1. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞
2. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
3. –ü–æ–ª—É—á–∏—Ç–µ SMS-–∫–æ–¥
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 85% ‚úì (–≤—ã—à–µ –ø–æ—Ä–æ–≥–∞ 70%)
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å (—ç—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ L2)
```
–ö–ª–∏–µ–Ω—Ç: "–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏, –æ—à–∏–±–∫–∞ 500"

–û—Ç–≤–µ—Ç –∞–≥–µ–Ω—Ç–∞:
üîÑ –í–ê–® –í–û–ü–†–û–° –ü–ï–†–ï–î–ê–ù –¢–ï–•–ù–ò–ß–ï–°–ö–û–ú–£ –°–ü–ï–¶–ò–ê–õ–ò–°–¢–£ (L2)

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞...

–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 45% ‚úó (–Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ 70%)
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: L2 (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã)
```

### –ü—Ä–∏–º–µ—Ä 3: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç (—ç—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ L3)
```
–ö–ª–∏–µ–Ω—Ç: "–ú–æ—à–µ–Ω–Ω–∏–∫–∏ —Å–Ω—è–ª–∏ –¥–µ–Ω—å–≥–∏ —Å –∫–∞—Ä—Ç—ã"

–û—Ç–≤–µ—Ç –∞–≥–µ–Ω—Ç–∞:
üî¥ –°–†–û–ß–ù–û! –í–ê–® –í–û–ü–†–û–° –ü–ï–†–ï–î–ê–ù –°–ü–ï–¶–ò–ê–õ–ò–°–¢–ê–ú –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò (L3)

1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç—É
2. –ü–æ–∑–≤–æ–Ω–∏—Ç–µ –≤ —Å–ª—É–∂–±—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: 900
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ —Å –ø–∞—Å–ø–æ—Ä—Ç–æ–º

–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: 60% ‚úó (–Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ 70%) + HIGH –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: L3 (—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
```

---

## 6. API endpoints

### –û—Å–Ω–æ–≤–Ω–æ–π endpoint
```bash
POST /ask
Content-Type: application/json

{
  "question": "–ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É?"
}
```

### –û—Ç–≤–µ—Ç
```json
{
  "answer": "–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞...",
  "sources": [...],
  "priority": "medium",
  "route_to": "L2",
  "judge_reason": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞",
  "confidence": 0.85,
  "confidence_below_threshold": false
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
GET /confidence          # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
GET /health              # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
GET /debug/confidence/{question}  # –û—Ç–ª–∞–¥–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
```

---

## 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —á–∞—Ç-–±–æ—Ç–æ–º

–ü—Ä–∏–º–µ—Ä –¥–ª—è Telegram-–±–æ—Ç–∞:
```python
import requests

def handle_user_message(user_id, message):
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ RAG-—Å–µ—Ä–≤–∏—Å
    response = requests.post(
        "http://localhost:8000/ask",
        json={"question": message}
    )
    
    result = response.json()
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    send_to_user(user_id, result["answer"])
    
    # –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç—Å–∫–∞–ª–∞—Ü–∏—è
    if result["confidence_below_threshold"]:
        create_support_ticket(
            user_id=user_id,
            question=message,
            priority=result["priority"],
            route_to=result["route_to"]
        )
```

---

## 8. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–∏—é

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ |
|-------------------|----------------------|
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º–∞—Ç–∏–∫–∏ –æ–±—Ä–∞—â–µ–Ω–∏—è | LLM-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ |
| –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–∏–ø–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã | RAG –Ω–∞ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ |
| –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | –°–∏—Å—Ç–µ–º–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å –ø–æ—Ä–æ–≥–æ–º 70% |
| –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–∞ –ª–∏–Ω–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ L1/L2/L3 |
| –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏–π | –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤ –ø—Ä–∏ —ç—Å–∫–∞–ª–∞—Ü–∏–∏ |
| –†–∞–±–æ—Ç–∞ 24/7 | FastAPI —Å–µ—Ä–≤–∏—Å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π LLM |

---

## 9. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å** - –∞–≥–µ–Ω—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —á–µ–ª–æ–≤–µ–∫–∞
2. **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - –æ—Ç–≤–µ—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã vs —á–∞—Å—ã –æ–∂–∏–¥–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 1000+ –æ–±—Ä–∞—â–µ–Ω–∏–π –≤ –¥–µ–Ω—å
4. **–õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö API, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
5. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –Ω–æ–≤—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

---

## 10. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```powershell
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º
git clone <—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd <–ø–∞–ø–∫–∞_–ø—Ä–æ–µ–∫—Ç–∞>
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt

# 2. –ó–∞–ø—É—Å–∫–∞–µ–º Ollama
ollama pull llama3.2

# 3. –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ data/raw
#    (FAQ, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã –°–±–µ—Ä–∞)

# 4. –°—Ç—Ä–æ–∏–º –∏–Ω–¥–µ–∫—Å
python build_index.py

# 5. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å
uvicorn app:app --reload

# 6. –¢–µ—Å—Ç–∏—Ä—É–µ–º
curl -X POST "http://localhost:8000/ask" \
  -H "Content-Type: application/json" \
  -d '{"question": "–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å SMS-–∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ?"}'
```

---

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ç–æ–≤
2. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤
3. **–ì–æ–ª–æ—Å–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∏–µ–π
4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –≤—ã—è–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏ —É–ª—É—á—à–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
5. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - —É—á–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: `http://localhost:8000/docs`
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö: —Å–º. `app.py` ‚Üí `Question`, `Answer`, `Source`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π: `rag_config.py`
- –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: `CONFIDENCE_THRESHOLD = 0.4` (70%)

